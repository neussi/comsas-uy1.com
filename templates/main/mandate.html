{% extends 'base.html' %}
{% load static %}

{% block title %}Bureau Exécutif & Plan d'Action | COM.S.AS{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="position-relative py-5 overflow-hidden">
    <div class="position-absolute top-0 start-0 w-100 h-100 bg-white"></div>
    <div class="position-absolute top-50 start-50 translate-middle"
        style="width: 100%; height: 100%; max-width: 1200px; opacity: 0.05; background: radial-gradient(circle, var(--primary-color) 0%, transparent 70%); pointer-events: none;">
    </div>

    <div class="container position-relative z-1 text-center mt-5">
        <span
            class="badge bg-primary bg-opacity-10 text-primary border border-primary border-opacity-25 rounded-pill px-3 py-2 mb-3 fw-medium animate-fade-in-up">
            <i class="fas fa-vote-yea me-2"></i>Mandat 2025-2026
        </span>
        <h1 class="display-3 fw-bold mb-3 animate-fade-in-up text-dark" style="animation-delay: 0.1s;">
            Vision & <span class="text-primary typing-effect"
                data-words='["Stratégie", "Excellence", "Innovation", "Avenir"]'></span>
        </h1>
        <p class="lead text-muted mx-auto animate-fade-in-up" style="max-width: 700px; animation-delay: 0.2s;">
            Découvrez l'équipe dirigeante et le plan d'action stratégique pour une année d'innovation et de réussite
            académique.
        </p>
    </div>
</section>

<div class="container my-5">
    <div class="row g-5">
        <!-- Sidebar Navigation -->
        <div class="col-lg-3 d-none d-lg-block">
            <div class="sticky-top" style="top: 100px; z-index: 1020;">
                <nav id="bureau-nav" class="nav flex-column border-start border-2 border-light ps-3 gap-3">
                    <a class="nav-link text-muted active fw-medium" href="#president" data-scroll>
                        <i class="fas fa-user-tie me-2" style="width: 20px;"></i>Le Président
                    </a>
                    <a class="nav-link text-muted fw-medium" href="#vision" data-scroll>
                        <i class="fas fa-eye me-2" style="width: 20px;"></i>Vision
                    </a>
                    <a class="nav-link text-muted fw-medium" href="#axes" data-scroll>
                        <i class="fas fa-bullseye me-2" style="width: 20px;"></i>Axes Stratégiques
                    </a>
                    <a class="nav-link text-muted fw-medium" href="#calendrier" data-scroll>
                        <i class="fas fa-calendar-alt me-2" style="width: 20px;"></i>Calendrier
                    </a>
                    <a class="nav-link text-muted fw-medium" href="#equipe" data-scroll>
                        <i class="fas fa-users me-2" style="width: 20px;"></i>L'Équipe
                    </a>
                </nav>
            </div>
        </div>

        <!-- Main Content -->
        <div class="col-lg-9">

            <!-- Le Président -->
            <section id="president" class="mb-5 scroll-margin-top" data-aos="fade-up">
                <div class="card border-0 shadow-sm rounded-4 overflow-hidden bg-white">
                    <div class="card-body p-0">
                        <div class="row g-0 align-items-center">
                            <div class="col-md-5 bg-light p-4 text-center">
                                <div class="position-relative d-inline-block">
                                    <div class="position-absolute top-50 start-50 translate-middle border border-primary border-opacity-25 rounded-circle"
                                        style="width: 220px; height: 220px;"></div>
                                    <img src="{% static 'images/comsas.png' %}" alt="Président"
                                        class="rounded-circle img-fluid shadow-sm position-relative bg-white p-1"
                                        style="width: 200px; height: 200px; object-fit: cover;">
                                </div>
                                <div class="mt-3">
                                    <span class="badge bg-secondary text-white rounded-pill px-3 mb-2">Président</span>
                                    <h5 class="fw-bold text-dark mb-1">NEUSSI NJIETCHEU P.E.</h5>
                                    <p class="text-muted small mb-0">Master 2 Informatique</p>
                                </div>
                            </div>
                            <div class="col-md-7 p-4 p-md-5">
                                <h2 class="h3 fw-bold text-dark mb-3">Le Mot du Président</h2>
                                <p class="text-muted mb-4">
                                    "Chers membres, c'est avec honneur et détermination que je porte cette vision.
                                    Notre objectif est clair : faire du COM.S.AS un pôle d'excellence où chaque étudiant
                                    trouve les ressources pour s'épanouir et innover."
                                </p>
                                <div class="d-flex gap-3">
                                    <div class="d-flex align-items-center text-muted small">
                                        <i class="fas fa-history text-primary me-2"></i> Ex-Trésorier
                                    </div>
                                    <div class="d-flex align-items-center text-muted small">
                                        <i class="fas fa-star text-primary me-2"></i> Ex-VP
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Vision -->
            <section id="vision" class="mb-5 scroll-margin-top" data-aos="fade-up">
                <div class="d-flex align-items-center mb-4">
                    <span class="bg-primary rounded-pill me-3" style="width: 4px; height: 32px;"></span>
                    <h2 class="h3 fw-bold text-dark m-0">Notre Vision</h2>
                </div>

                <div class="row g-4">
                    <div class="col-md-4">
                        <div class="card h-100 border-0 shadow-sm bg-white p-3 hover-lift transition-all">
                            <div class="card-body">
                                <div class="rounded-circle bg-primary bg-opacity-10 d-flex align-items-center justify-content-center mb-3"
                                    style="width: 50px; height: 50px;">
                                    <i class="fas fa-graduation-cap text-primary fa-lg"></i>
                                </div>
                                <h5 class="fw-bold text-dark">Excellence Académique</h5>
                                <p class="text-muted small mb-0">Renforcer les capacités techniques à travers des
                                    séminaires ciblés et un accompagnement personnalisé.</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card h-100 border-0 shadow-sm bg-white p-3 hover-lift transition-all">
                            <div class="card-body">
                                <div class="rounded-circle bg-secondary bg-opacity-10 d-flex align-items-center justify-content-center mb-3"
                                    style="width: 50px; height: 50px;">
                                    <i class="fas fa-lightbulb text-secondary fa-lg"></i>
                                </div>
                                <h5 class="fw-bold text-dark">Innovation</h5>
                                <p class="text-muted small mb-0">Encourager la créativité et la réalisation de projets
                                    concrets résolvant des problèmes locaux.</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card h-100 border-0 shadow-sm bg-white p-3 hover-lift transition-all">
                            <div class="card-body">
                                <div class="rounded-circle bg-success bg-opacity-10 d-flex align-items-center justify-content-center mb-3"
                                    style="width: 50px; height: 50px;">
                                    <i class="fas fa-users text-success fa-lg"></i>
                                </div>
                                <h5 class="fw-bold text-dark">Communauté</h5>
                                <p class="text-muted small mb-0">Créer un réseau solidaire d'entraide et de partage
                                    entre les différentes promotions.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Axes Stratégiques -->
            <section id="axes" class="mb-5 scroll-margin-top" data-aos="fade-up">
                <div class="d-flex align-items-center mb-4">
                    <span class="bg-primary rounded-pill me-3" style="width: 4px; height: 32px;"></span>
                    <h2 class="h3 fw-bold text-dark m-0">Axes Stratégiques</h2>
                </div>

                <div class="card border-0 shadow-sm mb-4 bg-white">
                    <div class="card-body p-4">
                        <h4 class="h5 fw-bold text-primary mb-3"><i class="fas fa-laptop-code me-2"></i>Volet Académique
                        </h4>
                        <div class="row g-3">
                            <div class="col-md-6">
                                <ul class="list-unstyled mb-0">
                                    <li class="d-flex mb-3">
                                        <i class="fas fa-check-circle text-success mt-1 me-3"></i>
                                        <div>
                                            <strong class="text-dark d-block">Tech Seminars</strong>
                                            <span class="text-muted small">Formations Django, React, Docker
                                                certifiantes.</span>
                                        </div>
                                    </li>
                                    <li class="d-flex">
                                        <i class="fas fa-check-circle text-success mt-1 me-3"></i>
                                        <div>
                                            <strong class="text-dark d-block">Thèmes de Projets</strong>
                                            <span class="text-muted small">Banque de sujets concrets
                                                entreprises/enseignants.</span>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <ul class="list-unstyled mb-0">
                                    <li class="d-flex mb-3">
                                        <i class="fas fa-check-circle text-success mt-1 me-3"></i>
                                        <div>
                                            <strong class="text-dark d-block">Professional Stories</strong>
                                            <span class="text-muted small">Retours d'expérience d'alumni
                                                inspirants.</span>
                                        </div>
                                    </li>
                                    <li class="d-flex">
                                        <i class="fas fa-check-circle text-success mt-1 me-3"></i>
                                        <div>
                                            <strong class="text-dark d-block">Showcase Projets</strong>
                                            <span class="text-muted small">Plateforme de valorisation des
                                                réalisations.</span>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card border-0 shadow-sm bg-white">
                    <div class="card-body p-4">
                        <h4 class="h5 fw-bold text-secondary mb-3"><i class="fas fa-handshake me-2"></i>Volet
                            Para-académique</h4>
                        <div class="row g-3">
                            <div class="col-md-6">
                                <div class="d-flex align-items-center p-3 rounded-3 bg-light">
                                    <i class="fas fa-futbol fa-2x text-secondary me-3"></i>
                                    <div>
                                        <strong class="text-dark d-block">Coupe du Département</strong>
                                        <span class="text-muted small">Animation sportive et cohésion.</span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="d-flex align-items-center p-3 rounded-3 bg-light">
                                    <i class="fas fa-glass-cheers fa-2x text-secondary me-3"></i>
                                    <div>
                                        <strong class="text-dark d-block">Gala & Intégration</strong>
                                        <span class="text-muted small">Célébration des nouveaux arrivants.</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Calendrier -->
            <section id="calendrier" class="mb-5 scroll-margin-top" data-aos="fade-up">
                <div class="d-flex align-items-center mb-4">
                    <span class="bg-primary rounded-pill me-3" style="width: 4px; height: 32px;"></span>
                    <h2 class="h3 fw-bold text-dark m-0">Calendrier Prévisionnel</h2>
                </div>

                <div class="timeline ps-3 border-start border-2 border-light">
                    <!-- Février -->
                    <div class="mb-4 position-relative ps-4">
                        <span
                            class="position-absolute top-0 start-0 translate-middle border border-4 border-white bg-primary rounded-circle"
                            style="width: 16px; height: 16px; left: -1px;"></span>
                        <h6 class="text-primary fw-bold text-uppercase small mb-2">Février 2026</h6>
                        <div class="card border-0 shadow-sm bg-white">
                            <div class="card-body py-3 px-4">
                                <h5 class="h6 fw-bold text-dark">Lancement Semestre 2</h5>
                                <p class="text-muted small mb-0">Séminaire Technologies Modernes & Recensement Projets
                                </p>
                            </div>
                        </div>
                    </div>

                    <!-- Mars -->
                    <div class="mb-4 position-relative ps-4">
                        <span
                            class="position-absolute top-0 start-0 translate-middle border border-4 border-white bg-primary rounded-circle"
                            style="width: 16px; height: 16px; left: -1px;"></span>
                        <h6 class="text-primary fw-bold text-uppercase small mb-2">Mars 2026</h6>
                        <div class="card border-0 shadow-sm bg-white">
                            <div class="card-body py-3 px-4">
                                <h5 class="h6 fw-bold text-dark">L'heure des Projets</h5>
                                <p class="text-muted small mb-0">Préparation JUIN & Hackathons</p>
                            </div>
                        </div>
                    </div>

                    <!-- JUIN -->
                    <div class="mb-4 position-relative ps-4">
                        <span
                            class="position-absolute top-0 start-0 translate-middle border border-4 border-white bg-secondary rounded-circle"
                            style="width: 20px; height: 20px; left: -1px;"></span>
                        <h6 class="text-secondary fw-bold text-uppercase small mb-2">Juin 2026</h6>
                        <div class="card border-0 shadow-sm bg-white border-start border-4 border-secondary">
                            <div class="card-body py-3 px-4">
                                <h5 class="h6 fw-bold text-dark">JUINS (Journées Univ. Info)</h5>
                                <p class="text-muted small mb-0">Conférences, Démos, Hackathon & Gala</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- L'Équipe (Placeholder for logic) -->
            <section id="equipe" class="mb-5 scroll-margin-top" data-aos="fade-up">
                <div class="d-flex align-items-center mb-4">
                    <span class="bg-primary rounded-pill me-3" style="width: 4px; height: 32px;"></span>
                    <h2 class="h3 fw-bold text-dark m-0">Le Bureau Élu</h2>
                </div>

                <p class="text-muted mb-4">L'équipe dynamique qui pilotera ce mandat.</p>

                {% if bureau_members %}
                <div class="row g-4">
                    {% for member in bureau_members %}
                    <div class="col-md-6 col-lg-6">
                        <div class="card h-100 border-0 shadow-sm bg-white hover-lift transition-all">
                            <div class="card-body p-4 text-center">
                                <div class="position-relative d-inline-block mb-3">
                                    <div class="position-absolute top-50 start-50 translate-middle border border-secondary border-opacity-25 rounded-circle"
                                        style="width: 110px; height: 110px;"></div>
                                    {% if member.photo %}
                                    <img src="{{ member.photo.url }}" alt="{{ member.nom_prenom }}"
                                        class="rounded-circle img-fluid shadow-sm position-relative bg-white p-1"
                                        style="width: 100px; height: 100px; object-fit: cover;">
                                    {% else %}
                                    <div class="rounded-circle bg-light d-flex align-items-center justify-content-center shadow-sm position-relative mx-auto"
                                        style="width: 100px; height: 100px;">
                                        <i class="fas fa-user fa-3x text-muted"></i>
                                    </div>
                                    {% endif %}
                                </div>
                                <h5 class="fw-bold text-dark mb-1">{{ member.nom_prenom }}</h5>
                                <span
                                    class="badge bg-light text-primary border border-primary border-opacity-25 rounded-pill px-3 mb-2">{{
                                    member.poste_bureau }}</span>
                                <p class="text-muted small mb-3">{{ member.bio|truncatechars:80 }}</p>
                                <div class="d-flex justify-content-center gap-2">
                                    <a href="mailto:{{ member.email }}"
                                        class="btn btn-sm btn-outline-secondary rounded-circle" title="Email">
                                        <i class="fas fa-envelope"></i>
                                    </a>
                                    {% if member.telephone %}
                                    <a href="https://wa.me/{{ member.telephone|cut:' '|cut:'+' }}"
                                        class="btn btn-sm btn-outline-success rounded-circle" title="WhatsApp">
                                        <i class="fab fa-whatsapp"></i>
                                    </a>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
                {% else %}
                <div class="alert alert-light border border-light text-center py-5">
                    <i class="fas fa-users-cog fa-3x text-light mb-3"></i>
                    <h5 class="text-muted">Liste des membres du bureau</h5>
                    <p class="text-muted small">La liste des membres sera bientôt disponible.</p>
                </div>
                {% endif %}
            </section>

        </div>
    </div>
</div>

<style>
    .scroll-margin-top {
        scroll-margin-top: 100px;
    }

    .hover-lift {
        transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .hover-lift:hover {
        transform: translateY(-5px);
        box-shadow: 0 .5rem 1rem rgba(0, 0, 0, .15) !important;
    }

    .nav-link.active {
        color: var(--primary-color) !important;
        border-right: 3px solid var(--primary-color);
        background: linear-gradient(90deg, transparent, rgba(233, 30, 99, 0.05));
    }

    .nav-link:hover {
        color: var(--primary-color) !important;
    }
</style>

<script>
    // Simple script to handle active state on scroll
    document.addEventListener('DOMContentLoaded', function () {
        const sections = document.querySelectorAll('section');
        const navLinks = document.querySelectorAll('#bureau-nav .nav-link');

        window.addEventListener('scroll', () => {
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.clientHeight;
                if (scrollY >= (sectionTop - 150)) {
                    current = section.getAttribute('id');
                }
            });

            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href').includes(current)) {
                    link.classList.add('active');
                }
            });
        });
    });
</script>
{% endblock %}